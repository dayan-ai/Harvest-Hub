<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Dashboard - Harvest HUB</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/first.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">

    <style>
        .dashboard-container {
            max-width: 1000px;
            margin: 50px auto;
            display: flex;
            gap: 30px;
            padding: 20px;
        }
        /* Sidebar Profile Card */
        .profile-card {
            flex: 1;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            text-align: center;
            height: fit-content;
            border-top: 5px solid #81c408;
        }
        .profile-card i {
            font-size: 80px;
            color: #81c408;
            margin-bottom: 20px;
        }
        .profile-card h3 { margin-bottom: 5px; font-weight: bold; }
        .profile-card p { color: #777; }
        .logout-btn {
            display: inline-block;
            margin-top: 20px;
            background: #ff4d4d;
            color: white;
            padding: 10px 25px;
            text-decoration: none;
            border-radius: 30px;
            transition: 0.3s;
        }
        .logout-btn:hover { background: #e60000; color: white; }

        /* Orders Section */
        .orders-section {
            flex: 2;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }
        .orders-section h2 { color: #81c408; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        .order-table { width: 100%; border-collapse: collapse; }
        .order-table th { background: #f8f9fa; padding: 12px; text-align: left; color: #555; }
        .order-table td { padding: 12px; border-bottom: 1px solid #eee; color: #333; }
        .status-badge {
            background: #e0f8e0;
            color: green;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="top">
        <i class="fa-solid fa-location-dot"></i> <p class="street">123 Street, New York</p>
        <i class="fa-solid fa-envelope"></i> <p class="street">Email@gmail.com</p>
    </div>

    <div class="home">
        <p class="fruits">Harvest HUB</p>
        <div class="hm">
            <a href="/">Home</a>
            <a href="/shop">Shop</a>
            <a href="/details">Shop Details</a>
            <a href="/contact">Contacts</a>
        </div>
        <div class="search">
            <a href="/shop"><i class="fa-solid fa-magnifying-glass"></i></a>
            <a href="/cart"><i class="fa-solid fa-bag-shopping"></i></a>
            <a href="/dashboard" style="color: inherit;"><i class="fa-solid fa-user"></i></a>
        </div>
    </div>

    <div class="container-fluid bg-primary py-5 mb-5 hero-header" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/static/images/cart-page-header-img.jpg'); background-size: cover;">
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10 text-center">
                    <h1 class="display-3 text-white">My Account</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-container">
        
        <div class="profile-card">
            <i class="fa-solid fa-circle-user"></i>
            <h3>{{ user.name }}</h3>
            <p>{{ user.email }}</p>
            <p class="badge bg-secondary">{{ user.role }}</p>
            <br>
            <a href="/logout" class="logout-btn"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
        </div>

        <div class="orders-section">
            <h2>Order History</h2>
            
            {% if orders %}
                <table class="order-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Date</th>
                            <th>Payment</th>
                            <th>Total</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for order in orders %}
                        <tr>
                            <td>#{{ order.order_id }}</td>
                            <td>{{ order.order_date.strftime('%Y-%m-%d') }}</td>
                            <td>{{ order.payment_method }}</td>
                            <td><strong>${{ order.total_amount }}</strong></td>
                            <td><span class="status-badge">Completed</span></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <div style="text-align: center; padding: 30px;">
                    <i class="fa-solid fa-box-open" style="font-size: 50px; color: #ddd; margin-bottom: 10px;"></i>
                    <p>No orders found.</p>
                    <a href="/shop" class="btn btn-success">Start Shopping</a>
                </div>
            {% endif %}
        </div>
    </div>

    <footer class="footer">
        <div class="footer-top">
            <div class="footer-logo">
                Harvest HUB
                <span>Fresh products</span>
            </div>
            <form class="footer-form" onsubmit="event.preventDefault(); alert('Subscribed!')">
                <input type="email" placeholder="Your Email" required />
                <button type="submit">Subscribe Now</button>
            </form>
            <div class="social-icons">
                <a href="#">t</a>
                <a href="#">f</a>
                <a href="#">▶</a>
                <a href="#">in</a>
            </div>
        </div>

        <div class="footer-columns">
            <div class="footer-column" style="flex: 1">
                <h3>Why People Like us!</h3>
                <p>
                    Customers love us for our fresh, high-quality produce, reliable delivery, and exceptional customer service.
                </p>
            </div>

            <div class="footer-column" style="flex: 1">
                <h3>Shop Info</h3>
                <a href="/about">About Us</a><br />
                <a href="/contact">Contact Us</a><br />
                <a href="/about">Privacy Policy</a><br />
                <a href="/about">Terms & Condition</a><br />
                <a href="/about">Return Policy</a><br />
                <a href="/about">FAQs & Help</a>
            </div>

            <div class="footer-column" style="flex: 1">
                <h3>Account</h3>
                <a href="/coming-soon">My Account</a><br />
                <a href="/details">Shop details</a><br />
                <a href="/cart">Shopping Cart</a><br />
                <a href="/coming-soon">Wishlist</a><br />
                <a href="/coming-soon">Order History</a><br />
                <a href="/coming-soon">International Orders</a>
            </div>

            <div class="footer-column" style="flex: 1">
                <h3>Contact</h3>
                <p>Address: 1429 Netus Rd, NY 48247</p>
                <p>Email: Example@gmail.com</p>
                <p>Phone: +0123 4567 8910</p>
                <p>Payment Accepted</p>
                <div class="payment-icons">
                    <img src="https://img.icons8.com/color/48/visa.png" alt="Visa" />
                    <img src="https://img.icons8.com/color/48/mastercard.png" alt="Mastercard" />
                    <img src="https://img.icons8.com/color/48/maestro.png" alt="Maestro" />
                    <img src="https://img.icons8.com/color/48/paypal.png" alt="Paypal" />
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <span>© <span class="highlight">Harvest HUB</span>, All right reserved.</span><br>
        </div>
    </footer>

</body>
</html>